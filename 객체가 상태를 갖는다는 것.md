---
share: true
---
## 0. 서론
객체가 상태를 갖는다는 것에 대해 어떻게 생각하나요? 라는 멘토의 질문에 "객체가 상태를 갖는다는 것은 외부에서 객체에 접근할 수 있다." 라고 대답했다.
하지만 이 답변은 **‘상태(state)’의 의미를 설명하기보다 ‘접근 가능성’에 대한 설명**에 가깝다.  
따라서 객체의 상태가 무엇인지, 그리고 객체지향 관점에서 상태가 행동과 어떤 관계를 가지는지  개념을 확실히 정리하고자 한다.

## 1. 클래스의 상태와 객체의 상태
### 1-1. 클래스는 설계도, 객체는 실체
클래스는 객체가 가질 **상태(필드)와 행위(메서드)를 정의하는 설계도**이며,  
객체는 그 설계도에 따라 **실제 값을 가진 실행 중 실체**이다.
- **클래스**: 정적(설계/타입)
- **객체(인스턴스)**: 동적(실체/실행 중 존재)
즉 "클래스가 상태를 가진다"라는 표현은 문맥에 따라 오해를 줄 수 있다.  멘토의 질문은 **'인스턴스가 가지는 상태'** 를 의미한다.
클래스의 상태와 행위는 객체의 상태와 행위를 정의한거고 객체는 해당 상태를 필드에 저장한다. 이런 식으로 생각했다.
가장 크게 놓친 점은 '클래스 != 객체' 라는 사실이다. 클래스는 정적이며 객체는 동적이다. 
객체는 현실세계의 객체와 달리, "외부에서 객체에 영향을 줌 -> 상태가 변화됨" 이 아니고 "외부에서 객체에 영향을 줌 -> 객체가 스스로 상태를 바꿈" 으로 보는 것이 맞다.
- 예시
	- 현실 세계: "사람(능동적)이 음료수를 마시면 음료수(수동적)가 줄어든다"
	- 객체지향 세계: "사람이 음료수를 마신다(요청). 음료수의 양을 음료수가 줄인다"

### 1-2. 객체의 상태란?
**객체의 상태**란 객체가 특정 시점에 보유한 **속성 값들의 집합**이며, 주로 인스턴스 필드 값으로 표현된다.
객체는 보통  **식별자(identity) + 상태(state) + 행위(behavior)**  세 요소로 이해할 수 있다.
- **정체성(식별자)**: 이 객체가 저 객체와 **같은 존재인지** 를 구분하는 기준, 같은 상태라도 다른 객체일 수 있음
- **상태**: 시간이 지나며 변할 수 있음
- **행위**: 상태를 조회하거나, 변경하는 수단
중요한 점은 상태가 단독으로 의미를 갖는 것이 아니라 **행동과 서로 얽혀 있다는 것**이다.  
객체는 외부의 영향으로 상태가 직접 바뀌는 존재가 아니라,  외부에서 **메시지(메서드 호출)**로 요청을 전달하면  
객체가 **스스로 책임을 수행하며 상태를 관리·변경하는 자율적 주체**로 보는 것이 객체지향에 더 가깝다. (그거나 그거 아닌가 싶지만 일단 그렇다. 책임은 중요하니까)

## 2. 가변 객체와 불변 객체
이러한 질문을 한 이유가 무엇일까? 

이 질문은 단순히 "객체에 필드가 있다" 같은 정의를 확인하기보다,  
**상태를 어떤 방식으로 설계하고 통제할 것인지**를 보려는 의도일 가능성이 크다.  
객체는 상태를 가지지만, 그 상태는 **행동을 통해서만 의미 있게 관리되어야 한다**는 관점이 중요하다.
### 2.1. 가변 객체
- **정의**
	- 생성 이후에도 **필드 값이 바뀔 수 있는 객체**.
	- 보통 `setter`가 있거나, `update`, `add`, `remove` 같은 **상태 변경 메서드**를 제공.
- **특징**
	- **모델링이 자연스러움**
		- “유저 정보 수정”, “장바구니 추가/삭제” 같은 도메인에 잘 맞음.
	- **성능에 유리할 때가 있음**
		- 같은 객체를 계속 업데이트하므로 **새 객체 생성 비용 감소**.
- **주의점**
	- **사이드 이펙트**
		- 같은 객체를 여러 곳이 공유하면, 한 곳의 변경이 다른 곳에 영향을 줌.
	- **멀티스레드에서 위험**
		- 동기화 없이 공유되면 레이스 컨디션 발생 가능.
### 2.2. **불변 객체**
- **정의**
    - 생성 이후 **관찰 가능한 상태가 변하지 않는 객체**.
    - 상태 변경이 필요하면 **새 객체를 만들어 반환**하는 방식.
- **장점**
    - **예측 가능성**: “이 객체는 어디서든 동일하다”는 확신
    - **스레드 안전성**: 공유해도 동기화 부담이 크게 줄어듦
    - **테스트/디버깅이 쉬움**
- **자바에서 불변을 만드는 일반 규칙
    1. 클래스를 `final`로 하거나 상속을 제한
    2. 필드를 `private final`
    3. `setter` 제거
    
결국 "객체가 상태를 갖는다"는 말은  
**상태가 존재한다**는 뜻에서 끝나는 게 아니라  
**그 상태를 어떤 책임·행동·규칙 아래 통제할 것인가**라는  
설계 질문으로 확장된다.

## 3줄 요약
- 객체의 상태는 **특정 시점에 보유한 속성들의 집합** 이며, 상태는 행동을 통해 바뀌고 행동은 상태를 통해 바뀐다
- 객체는 외부의 영향으로 상태가 바뀌는 존재가 아니라 스스로 책임을 수행하며 상태를 관리하는 능동적 주체이다
- 객체가 상태를 갖는다는 것은 **그 상태를 객체가 어떻게 통제할 것인가** 라는 객체지향 설계 질문으로 확장된다. 

---
## 참고
[객체지향 사실과 오해 정리한 글](https://rlaehddnd0422.tistory.com/204?utm_source=chatgpt.com)